{"ast":null,"code":"var _jsxFileName = \"/Users/ramya/Documents/lab3/etsy/etsyfrontend/src/components/ShopName.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useStateValue } from '../StateProvider';\nimport Navigationbar from './Navigationbar';\nimport ShopHome from './ShopHome';\nimport Axios from 'axios';\nimport { useDispatch } from \"react-redux\";\nimport { activeShop, selectUser, updateUser } from \"../features/userSlice\";\nimport { useSelector } from 'react-redux';\nimport { rooturl } from '../config/settings';\nimport { SHOPNAME } from '../queries';\nimport { useLazyQuery, useMutation } from '@apollo/client';\nimport { ADDSHOP } from '../mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ShopName() {\n  _s();\n\n  let navigate = useNavigate();\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const [shopname, setshopname] = useState(\"\");\n  const [shopNameStatus, setShopNameStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const url = 'http://' + rooturl + ':4000';\n  const [getshopname, {\n    data,\n    error\n  }] = useLazyQuery(SHOPNAME);\n  const [addShop, {\n    data: shopData,\n    error1\n  }] = useMutation(ADDSHOP);\n\n  const handleShopName = () => {\n    getshopname({\n      variables: {\n        shopname\n      }\n    });\n\n    if (error) {\n      console.log(error);\n    } else if (data) {\n      console.log(data);\n\n      if (data.shopName) {\n        setShopNameStatus(\"Available\");\n      } else {\n        setShopNameStatus(\"Not Avaiable\");\n      }\n    }\n  };\n\n  const redirectHandler = () => {\n    if (shopNameStatus == \"Available\") {\n      addShop({\n        variables: {\n          shopname,\n          addShopId: user.id\n        }\n      });\n      console.log(data1.addShop);\n\n      if (shopData.addShop) {\n        navigate(\"/ShopHome\");\n      }\n    } else if (error1) {\n      setMessage(\"Try another shop name\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigationbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"50px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: \"rgb(238, 101, 43)\"\n        },\n        children: \"Name your shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"rgb(238, 101, 43)\"\n        },\n        children: \"Choose a memorable name that reflects your style\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"checkshopname\",\n          style: {\n            width: \"400px\",\n            height: \"40px\",\n            marginTop: \"30px\",\n            borderRadius: \"20px\"\n          },\n          onChange: e => {\n            setshopname(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"rgb(238, 101, 43)\"\n          },\n          children: shopNameStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"checkavailability\",\n          style: {\n            color: \"rgb(238, 101, 43)\",\n            borderRadius: \"10px\",\n            marginLeft: \"20px\"\n          },\n          onClick: handleShopName,\n          children: \"CheckAvailability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"redirect\",\n          style: {\n            color: \"rgb(238, 101, 43)\",\n            borderRadius: \"10px\",\n            marginTop: \"20px\",\n            width: \"150px\"\n          },\n          onClick: redirectHandler,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShopName, \"37f+5FNvN3JUXx/jGK6qOaaJdcE=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useLazyQuery, useMutation];\n});\n\n_c = ShopName;\nexport default ShopName;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopName\");","map":{"version":3,"sources":["/Users/ramya/Documents/lab3/etsy/etsyfrontend/src/components/ShopName.js"],"names":["React","useState","useNavigate","useStateValue","Navigationbar","ShopHome","Axios","useDispatch","activeShop","selectUser","updateUser","useSelector","rooturl","SHOPNAME","useLazyQuery","useMutation","ADDSHOP","ShopName","navigate","dispatch","user","shopname","setshopname","shopNameStatus","setShopNameStatus","message","setMessage","url","getshopname","data","error","addShop","shopData","error1","handleShopName","variables","console","log","shopName","redirectHandler","addShopId","id","data1","textAlign","marginTop","color","width","height","borderRadius","e","target","value","marginLeft"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useStateValue } from '../StateProvider'\nimport Navigationbar from './Navigationbar'\nimport ShopHome from './ShopHome'\nimport  Axios  from 'axios'\nimport { useDispatch } from \"react-redux\";\nimport {activeShop,selectUser, updateUser} from \"../features/userSlice\"\nimport { useSelector } from 'react-redux'\nimport {rooturl} from '../config/settings';\nimport {SHOPNAME} from '../queries';\nimport { useLazyQuery,useMutation } from '@apollo/client';\nimport {ADDSHOP} from '../mutations'\nfunction ShopName() {\n    let navigate=useNavigate();\n    const dispatch=useDispatch();\n    const user=useSelector(selectUser);\n    const [shopname,setshopname] =useState(\"\");\n    const [shopNameStatus,setShopNameStatus]=useState(\"\")\n    const [message,setMessage]=useState(\"\")\n    const url= 'http://'+rooturl+':4000'\n\n    const[getshopname,{data,error}]=useLazyQuery(SHOPNAME);\n    const [addShop,{data:shopData,error1}]=useMutation(ADDSHOP);\n    const handleShopName = ()=>{\n        getshopname({\n            variables:{\n              \n                shopname\n            }\n        })\n        if (error){\n            console.log(error);\n        }else if(data){\n            console.log(data);\n            if(data.shopName){\n                setShopNameStatus(\"Available\");\n            }else{\n                setShopNameStatus(\"Not Avaiable\")\n            }\n        }\n      \n        \n\n    }\n    \n    const redirectHandler=()=>{\n        \n        if(shopNameStatus==\"Available\"){\n            \n            addShop({\n                variables:{\n                    shopname,\n                    addShopId:user.id\n                }\n            })\n            console.log(data1.addShop);\n            if(shopData.addShop){\n                navigate(\"/ShopHome\")\n            }\n            \n            \n            \n            \n        }\n        else if(error1){\n            setMessage(\"Try another shop name\")\n        }\n    }\n  return (\n    <div>\n        <Navigationbar/>\n        <div style={{textAlign:\"center\",marginTop:\"50px\"}}>\n            <h1 style={{color:\"rgb(238, 101, 43)\"}}>Name your shop</h1>\n            <h3 style={{color:\"rgb(238, 101, 43)\"}}>Choose a memorable name that reflects your style</h3>\n            <div>\n                <input type=\"text\" className=\"checkshopname\" \n                style={{width:\"400px\",\n                        height:\"40px\",\n                        marginTop:\"30px\",\n                        borderRadius:\"20px\"\n                        }}\n                onChange={(e) =>\n                { setshopname(e.target.value)}}/>\n                <span style={{color:\"rgb(238, 101, 43)\"}}>{shopNameStatus}</span>\n                <button type=\"submit\" className=\"checkavailability\" \n                style={{color:\"rgb(238, 101, 43)\", borderRadius:\"10px\",marginLeft:\"20px\"}}\n                onClick={handleShopName}>CheckAvailability</button>\n                <br/>\n                <button type=\"submit\" className=\"redirect\" \n                style={{color:\"rgb(238, 101, 43)\", borderRadius:\"10px\",marginTop:\"20px\", width:\"150px\"}}\n                onClick={redirectHandler}>Confirm</button>\n                <p>{message}</p>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default ShopName"]},"metadata":{},"sourceType":"module"}